backend:

with golang:1.16 size is 1.01GB

Dockerfile:

FROM golang:1.16

WORKDIR /usr/src/app

COPY . .

RUN go build && useradd -m appuser

USER appuser

EXPOSE 8080

CMD ["./server"]


with golang:alpine size is 447MB

Dockerfile:

FROM golang:alpine

WORKDIR /usr/src/app

COPY . .

RUN go build && adduser -D appuser

USER appuser

EXPOSE 8080

CMD ["./server"]

Frontend:

with node-14 size is 1.17GB

Dockerfile:

FROM node:14

WORKDIR /usr/src/app

COPY . .

EXPOSE 5000

RUN npm install && npm install -g serve && \
REACT_APP_BACKEND_URL=http://localhost/api npm run build && \
useradd -m appuser

USER appuser



ENV PORT = 5000

CMD ["serve", "-s", "-l", "5000", "build"]

with node:14-alpine size is 342MB

Dockerfile:

FROM node:14-alpine

WORKDIR /usr/src/app

COPY . .

EXPOSE 5000

RUN npm install && npm install -g serve && \
REACT_APP_BACKEND_URL=http://localhost/api npm run build && \
adduser -D appuser

USER appuser



ENV PORT = 5000

CMD ["serve", "-s", "-l", "5000", "build"]

